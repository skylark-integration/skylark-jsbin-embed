{"version":3,"sources":["findCode.js"],"names":["define","embeds","innerText","undefined","document","createElement","findCode","link","element","code","rel","getElementById","substring","findCodeInParent","match","previousSibling","nodeName","getElementsByTagName","length","parentNode"],"mappings":";;;;;;;AAAAA,QACE,YACA,SAASC,GACT,aAIA,IAAIC,OAAsDC,IAA1CC,SAASC,cAAc,KAAKH,UAA0B,cAAgB,YA6DtF,OAAOD,EAAOK,SAzBd,SAAkBC,GAChB,IACIC,EACAC,EAFAC,EAAMH,EAAKG,IAqBf,OAjBIA,IAAQF,EAAUJ,SAASO,eAAeD,EAAIE,UAAU,KAC1DH,EAAOD,EAAQN,IAUfM,EAjDJ,SAASK,EAAiBL,GAGxB,IAFA,IAAIM,EAAQN,GAELM,EAAQA,EAAMC,kBACI,QAAnBD,EAAME,UAGV,GAAIF,EAAMG,uBACRH,EAAQA,EAAMG,qBAAqB,QACzBC,OAAQ,CAChBJ,EAAQA,EAAM,GACd,MAKN,OAAIA,KAIJA,EAAQN,EAAQW,WAAWF,qBAAqB,QAErCC,OAQJJ,EAAM,GAPPN,EAAQW,WACHN,EAAiBL,EAAQW,YAEzB,MAuBCN,CAAiBN,MAEzBE,EAAOD,EAAQN,IAIZO","file":"../findCode.js","sourcesContent":["define([\r\n  \"./embeds\"\r\n],function(embeds){\r\n  'use strict';\r\n\r\n  // ---- here begins the jsbin embed - based on the embedding doc: https://github.com/jsbin/jsbin/blob/master/docs/embedding.md\r\n\r\n  var innerText = document.createElement('i').innerText === undefined ? 'textContent' : 'innerText';\r\n\r\n\r\n  function findCodeInParent(element) {\r\n    var match = element;\r\n\r\n    while (match = match.previousSibling) { // jshint ignore:line\r\n      if (match.nodeName === 'PRE') {\r\n        break;\r\n      }\r\n      if (match.getElementsByTagName) {\r\n        match = match.getElementsByTagName('pre');\r\n        if (match.length) {\r\n          match = match[0]; // only grabs the first\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (match) {\r\n      return match;\r\n    }\r\n\r\n    match = element.parentNode.getElementsByTagName('pre');\r\n\r\n    if (!match.length) {\r\n      if (element.parentNode) {\r\n        return findCodeInParent(element.parentNode);\r\n      } else {\r\n        return null;\r\n      }\r\n    }\r\n\r\n    return match[0];\r\n  }\r\n\r\n  function findCode(link) {\r\n    var rel = link.rel,\r\n        element,\r\n        code;\r\n\r\n    if (rel && (element = document.getElementById(rel.substring(1)))) {\r\n      code = element[innerText];\r\n    // else - try to support multiple targets for each panel...\r\n    // } else if (query.indexOf('=') !== -1) {\r\n    //   // assumes one of the panels points to an ID\r\n    //   query.replace(/([^,=]*)=([^,=]*)/g, function (all, key, value) {\r\n    //     code = document.getElementById(value.substring(1))[innerText];\r\n\r\n    //   });\r\n    } else {\r\n      // go looking through it's parents\r\n      element = findCodeInParent(link);\r\n      if (element) {\r\n        code = element[innerText];\r\n      }\r\n    }\r\n\r\n    return code;\r\n  }\r\n\r\n  return embeds.findCode = findCode;\r\n\r\n});"]}